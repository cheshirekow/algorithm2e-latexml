

\documentclass{article}

\usepackage{amsmath} % assumes amsmath package installed
\usepackage{amssymb}  % assumes amsmath package installed
\usepackage{graphicx}
\usepackage[lined,boxed,linesnumbered,commentsnumbered]{algorithm2e}
\usepackage{listings}

\newcommand{\NearNodes}{Near}
\DeclareMathOperator{\Src}{Src}
\DeclareMathOperator{\Dest}{Dest}
\DeclareMathOperator{\Cl}{cl}

\begin{document}

\section{Example from algorithm2e Documentation}

\subsection{Rendered By PdfLatex}

This version was created with pdflatex, and then rasterized with imagemagick.
 
\begin{figure}[h]
    \centering
    \includegraphics[scale=1.0]{images/algorithm2e_howto_read}
    \caption{Rendered with pdflatex}
\end{figure}

\subsection{Formatted by LaTeXML}

This version was created with latexml and my algorithm2e binding.

\input{algos/algorithm2e_howto_read}


\section{A real algorithm}

Here are a few examples from ``the real world.''

\begin{figure}[h]
    \centering
    \includegraphics[scale=1.0]{images/rrt_generic}
    \caption{Rendered with pdflatex}
\end{figure}


\input{algos/rrt_generic}


The RRT and the RRT$^*$ algorithms differ in the way that they handle the extension procedure in line \ref{line:extend}.
%
The extension sub-routine of the RRT algorithm is shown in Algorithm~\ref{algorithm:rrt_extend}. 
%
The procedure finds the configuration $x_\mathrm{nearest} \in V$ that is closest to the sampled configuration, and checks whether the straight path connecting $x_\mathrm{nearest}$ and the sampled configuration is collision free. If so, the sampled configuration is added to the tree as a vertex along with an edge connecting it to $x_\mathrm{nearest}$.

\begin{figure}[h]
    \centering
    \includegraphics[scale=1.0]{images/rrt_extend}
    \caption{Rendered with pdflatex}
\end{figure}


\input{algos/rrt_extend}

The extension sub-routine of the RRT* (Algorithm \ref{algorithm:rrtstar_extend}) is slightly more involved. 
%
The same operations are performed as in the RRT up to the point of checking that the path is collision free. 
%
However, before inserting the sampled configuration in the graph, the procedure runs through the set of all near nodes around the sampled configuration. The near vertex $x_\mathrm{near}$ that reaches the sampled configuration with the smallest accumulated cost is picked for connection, and the sampled configuration is added to the tree connected to this near vertex with an edge. 
%
Then, for each vertex in the set of near vertices, the checks whether the trajectory connecting the sampled configuration and $x_\mathrm{near}$ is collision-free and the cost the trajectory that connects $x_\mathrm{near}$ to the root vertex through the sampled configuration is lower than current path that reaches $x_\mathrm{near}$.
%
If so, the incoming edge to $x_\mathrm{near}$ is ``re-wired'' through $x_\mathrm{new}$.

\begin{figure}[h]
    \centering
    \includegraphics[scale=1.0]{images/rrtstar_extend}
    \caption{Rendered with pdflatex}
\end{figure}

\input{algos/rrtstar_extend}





\end{document}
